/* Eldritch UI Pill Component */
/* Chunky pill styles inspired by button component but smaller and more rounded */

/* Base pill with enhanced positioning for smooth interactions */
.eld-pill {
  /* Base pill styles - chunky Spellbooks styling using semantic tokens */
  font-family: var(--eld-semantic-font-family-button);
  font-weight: var(--eld-primitive-font-weight-semibold);
  text-transform: uppercase;
  line-height: var(--eld-primitive-line-height-normal);
  border-radius: var(--eld-primitive-border-radius-full); /* Fully rounded ends */
  border-style: solid;
  border-width: var(--eld-semantic-border-width-default);
  cursor: pointer;
  transition: background-color 0.2s ease-in-out, border-color 0.2s ease-in-out,
    box-shadow 0.15s ease-in-out, transform 0.15s ease-in-out;
  position: relative;
  transform: translateY(0px) translateX(0px);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  white-space: nowrap;
  text-decoration: none;
  
  /* Default size and appearance - using Ancient Oak earthy brown styling */
  font-size: var(--eld-semantic-font-size-body-small);
  padding: var(--eld-semantic-space-component-padding-xs) 
           calc(var(--eld-semantic-space-component-padding-sm) * 1.5); /* Wider padding */
  background-color: var(--eldritch-ancient-oak-200);
  color: var(--eldritch-ancient-oak-900);
  border-color: var(--eldritch-ancient-oak-900);
  box-shadow: var(--eld-semantic-shadow-button);
}

/* Focus styles */
.eld-pill:focus-visible {
  outline-style: solid;
  outline-color: var(--eld-semantic-color-primary);
  outline-width: 2px;
  outline-offset: 2px;
}

/* Hover state - smooth lift up */
.eld-pill:hover:not(:disabled):not(.eld-pill--disabled) {
  background-color: var(--eldritch-ancient-oak-500);
  color: var(--eldritch-ancient-oak-100);
  box-shadow: var(--eld-semantic-shadow-button-hover);
  transform: translateY(-1px) translateX(0px);
}

/* Active state - smooth press down */
.eld-pill:active:not(:disabled):not(.eld-pill--disabled) {
  background-color: var(--eldritch-ancient-oak-500);
  color: var(--eldritch-ancient-oak-100);
  box-shadow: var(--eld-semantic-shadow-button-pressed);
  border-width: var(--eld-semantic-border-width-strong);
  transform: translateY(2px) translateX(1px);
  transition: all 0.1s ease-in-out; /* Faster response for press */
}

/* Selected state - uses primary button styling for active filter pills */
.eld-pill--selected {
  background-color: var(--eld-semantic-color-primary);
  color: var(--eld-semantic-color-text-on-primary);
  border-color: var(--eld-semantic-color-border-emboss);
  box-shadow: var(--eld-semantic-shadow-button);
}

.eld-pill--selected:hover:not(:disabled):not(.eld-pill--disabled) {
  background-color: var(--eld-semantic-color-primary-hover);
  box-shadow: var(--eld-semantic-shadow-button-hover);
  transform: translateY(-1px) translateX(0px);
}

.eld-pill--selected:active:not(:disabled):not(.eld-pill--disabled) {
  background-color: var(--eld-semantic-color-primary-hover);
  box-shadow: var(--eld-semantic-shadow-button-pressed);
  border-width: var(--eld-semantic-border-width-strong);
  transform: translateY(2px) translateX(1px);
  transition: all 0.1s ease-in-out;
}

/* Size Variants */
.eld-pill--small {
  font-size: var(--eld-semantic-font-size-caption); /* Use design token instead of hardcoded 12px */
  padding: var(--eld-semantic-space-component-padding-xs) var(--eld-semantic-space-component-padding-sm);
  border-radius: var(--eld-primitive-border-radius-full); /* Fully rounded for small */
  border-width: var(--eld-semantic-border-width-default);
  box-shadow: var(--eld-semantic-shadow-button);
}

.eld-pill--large {
  font-size: var(--eld-semantic-font-size-body-medium);
  padding: var(--eld-semantic-space-component-padding-sm)
           var(--eld-semantic-space-component-padding-md);
  border-radius: var(--eld-primitive-border-radius-full); /* Fully rounded for large */
}

.eld-pill--xl {
  font-size: var(--eld-semantic-font-size-body-large);
  padding: var(--eld-semantic-space-component-padding-sm)
           var(--eld-semantic-space-component-padding-md);
  border-radius: var(--eld-primitive-border-radius-full); /* Fully rounded for extra large */
}

/* Variant Styles */

/* Secondary variant */
.eld-pill--secondary {
  background-color: var(--eld-semantic-color-secondary);
  color: var(--eld-semantic-color-text-on-secondary);
  border-color: var(--eld-semantic-color-border-emboss);
  box-shadow: var(--eld-semantic-shadow-button);
}

.eld-pill--secondary:hover:not(:disabled):not(.eld-pill--disabled) {
  background-color: var(--eld-semantic-color-secondary-hover);
  box-shadow: var(--eld-semantic-shadow-button-hover);
  transform: translateY(-1px) translateX(0px);
}

.eld-pill--secondary:active:not(:disabled):not(.eld-pill--disabled) {
  background-color: var(--eld-semantic-color-secondary-hover);
  box-shadow: var(--eld-semantic-shadow-button-pressed);
  border-width: var(--eld-semantic-border-width-strong);
  transform: translateY(2px) translateX(1px);
  transition: all 0.1s ease-in-out;
}

/* Dark variant */
.eld-pill--dark {
  background-color: var(--eld-semantic-color-text-primary);
  color: var(--eld-semantic-color-text-on-primary);
  border-color: var(--eld-semantic-color-border-emboss);
  box-shadow: var(--eld-semantic-shadow-button);
}

.eld-pill--dark:hover:not(:disabled):not(.eld-pill--disabled) {
  background-color: var(--eld-semantic-color-text-secondary);
  box-shadow: var(--eld-semantic-shadow-button-hover);
  transform: translateY(-1px) translateX(0px);
}

.eld-pill--dark:active:not(:disabled):not(.eld-pill--disabled) {
  background-color: var(--eld-semantic-color-text-secondary);
  box-shadow: var(--eld-semantic-shadow-button-pressed);
  border-width: var(--eld-semantic-border-width-strong);
  transform: translateY(2px) translateX(1px);
  transition: all 0.1s ease-in-out;
}

/* Outline variant */
.eld-pill--outline {
  background-color: var(--eldritch-ancient-oak-200);
  color: var(--eldritch-ancient-oak-900);
  border-color: var(--eldritch-ancient-oak-900);
  box-shadow: var(--eld-semantic-shadow-button);
}

.eld-pill--outline:hover:not(:disabled):not(.eld-pill--disabled) {
  background-color: var(--eldritch-ancient-oak-500);
  color: var(--eldritch-ancient-oak-100);
  box-shadow: var(--eld-semantic-shadow-button-hover);
  transform: translateY(-1px) translateX(0px);
}

.eld-pill--outline:active:not(:disabled):not(.eld-pill--disabled) {
  background-color: var(--eldritch-ancient-oak-500);
  color: var(--eldritch-ancient-oak-100);
  box-shadow: var(--eld-semantic-shadow-button-pressed);
  border-width: var(--eld-semantic-border-width-strong);
  transform: translateY(2px) translateX(1px);
  transition: all 0.1s ease-in-out;
}

/* Small outline pill override */
.eld-pill--outline.eld-pill--small:active:not(:disabled):not(.eld-pill--disabled) {
  box-shadow: var(--eld-semantic-shadow-button-pressed);
  border-width: var(--eld-semantic-border-width-strong);
  transform: translateY(0.5px) translateX(0.25px);
}

/* Success variant */
.eld-pill--success {
  background-color: var(--eld-semantic-color-success);
  color: var(--eld-semantic-color-text-on-primary);
  border-color: var(--eld-semantic-color-border-emboss);
  box-shadow: var(--eld-semantic-shadow-button);
}

.eld-pill--success:hover:not(:disabled):not(.eld-pill--disabled) {
  background-color: var(--eld-semantic-color-success-hover);
  box-shadow: var(--eld-semantic-shadow-button-hover);
  transform: translateY(-1px) translateX(0px);
}

.eld-pill--success:active:not(:disabled):not(.eld-pill--disabled) {
  background-color: var(--eld-semantic-color-success-hover);
  box-shadow: var(--eld-semantic-shadow-button-pressed);
  border-width: var(--eld-semantic-border-width-strong);
  transform: translateY(2px) translateX(1px);
  transition: all 0.1s ease-in-out;
}

/* Warning variant */
.eld-pill--warning {
  background-color: var(--eld-semantic-color-warning);
  color: var(--eld-semantic-color-text-on-primary);
  border-color: var(--eld-semantic-color-border-emboss);
  box-shadow: var(--eld-semantic-shadow-button);
}

.eld-pill--warning:hover:not(:disabled):not(.eld-pill--disabled) {
  background-color: var(--eld-semantic-color-warning-hover);
  box-shadow: var(--eld-semantic-shadow-button-hover);
  transform: translateY(-1px) translateX(0px);
}

.eld-pill--warning:active:not(:disabled):not(.eld-pill--disabled) {
  background-color: var(--eld-semantic-color-warning-hover);
  box-shadow: var(--eld-semantic-shadow-button-pressed);
  border-width: var(--eld-semantic-border-width-strong);
  transform: translateY(2px) translateX(1px);
  transition: all 0.1s ease-in-out;
}

/* Error variant */
.eld-pill--error {
  background-color: var(--eld-semantic-color-error);
  color: var(--eld-semantic-color-text-on-primary);
  border-color: var(--eld-semantic-color-border-emboss);
  box-shadow: var(--eld-semantic-shadow-button);
}

.eld-pill--error:hover:not(:disabled):not(.eld-pill--disabled) {
  background-color: var(--eld-semantic-color-error-hover);
  box-shadow: var(--eld-semantic-shadow-button-hover);
  transform: translateY(-1px) translateX(0px);
}

.eld-pill--error:active:not(:disabled):not(.eld-pill--disabled) {
  background-color: var(--eld-semantic-color-error-hover);
  box-shadow: var(--eld-semantic-shadow-button-pressed);
  border-width: var(--eld-semantic-border-width-strong);
  transform: translateY(2px) translateX(1px);
  transition: all 0.1s ease-in-out;
}

/* Disabled State */
.eld-pill--disabled,
.eld-pill:disabled {
  opacity: 0.6;
  cursor: not-allowed;
  pointer-events: none;
  background-color: var(--eld-semantic-color-surface);
  color: var(--eld-semantic-color-text-muted);
  border-color: var(--eld-semantic-color-border);
  transform: none;
}

.eld-pill--disabled:hover,
.eld-pill--disabled:active,
.eld-pill:disabled:hover,
.eld-pill:disabled:active {
  background-color: var(--eld-semantic-color-surface);
  transform: none;
}

/* Accessibility enhancements */
@media (prefers-reduced-motion: reduce) {
  .eld-pill {
    transition: none;
  }
  
  .eld-pill:hover,
  .eld-pill:active {
    transform: none;
  }
}

@media (prefers-contrast: high) {
  .eld-pill {
    border-width: 3px;
  }
  
  .eld-pill:focus-visible {
    outline-width: 3px;
  }
}

/* Pill with icon support */
.eld-pill__icon {
  display: inline-flex;
  align-items: center;
}

.eld-pill__icon--start {
  margin-right: 0.25rem;
}

.eld-pill__icon--end {
  margin-left: 0.25rem;
}

/* Removable pill variant */
.eld-pill--removable {
  padding-right: 0.25rem;
}

.eld-pill__remove {
  margin-left: 0.25rem;
  padding: 0.125rem;
  border-radius: 50%;
  background: rgba(0, 0, 0, 0.1);
  border: none;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 1rem;
  height: 1rem;
}

.eld-pill__remove:hover {
  background: rgba(0, 0, 0, 0.2);
}