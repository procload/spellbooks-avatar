<div <%= tag.attributes(component_tag_attributes) %>>
  <!-- Header Section -->
  <div class="eld-student-detail__header">
    <div class="eld-student-detail__student-info">
      <div class="eld-student-detail__identity">
        <h3 class="eld-student-detail__name">
          <%= student_name %>
        </h3>
        <% if student_email.present? %>
          <p class="eld-student-detail__email">
            <%= student_email %>
          </p>
        <% end %>
      </div>
      
      <% if show_edit_link? %>
        <div class="eld-student-detail__actions">
          <%= link_to edit_student_path,
              class: "eld-student-detail__edit-link",
              title: "Edit #{student_name}",
              "aria-label": "Edit student #{student_name}" do %>
            <svg xmlns="http://www.w3.org/2000/svg"
                 class="eld-student-detail__edit-icon"
                 viewBox="0 0 20 20"
                 fill="currentColor"
                 aria-hidden="true">
              <path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z" />
            </svg>
          <% end %>
        </div>
      <% end %>
    </div>
  </div>

  <!-- Assignments Section -->
  <div class="eld-student-detail__content">
    <% if has_assignments? %>
      <div class="eld-student-detail__assignments">
        <h4 class="eld-student-detail__assignments-title">
          Assignments
          <span class="eld-student-detail__assignments-count" aria-label="<%= pluralize(assignments_count, 'assignment') %>">
            (<%= assignments_count %>)
          </span>
        </h4>
        <div class="eld-student-detail__assignments-list"
             role="list"
             aria-label="Student assignments">
          <% assignments.each do |assignment_data| %>
            <div class="eld-student-detail__assignment-item" role="listitem">
              <%= render EldritchUi::AssignmentItemComponent.new(
                assignment: assignment_data[:assignment],
                progress: assignment_data[:progress]
              ) %>
            </div>
          <% end %>
        </div>
      </div>
    <% else %>
      <div class="eld-student-detail__empty-state">
        <p class="eld-student-detail__empty-message">
          No assignments yet
        </p>
      </div>
    <% end %>
  </div>
</div> 